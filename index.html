<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Template</title>
    <!-- CSS -->
    <style>
        /* Global Styles */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f8f8;
        }

        /* Header Styles */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #ffcc00;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        header h1 {
            margin: 0;
            color: #333;
            font-size: 28px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Navigation Styles */
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            text-decoration: none;
            color: #333;
            font-weight: bold;
            font-size: 18px;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #ff8c00;
        }

        /* Main Content Styles */
        .container {
            max-width: 1200px;
            margin: 100px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Post Styles */
        .post-container {
            margin-bottom: 30px;
        }

        .post-title {
            color: #333;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .post-content {
            font-size: 16px;
            line-height: 1.6;
        }

        /* Todos Styles */
        .todos-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 30px;
        }

        .todos-title {
            color: #333;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .todo-item {
            margin-bottom: 10px;
        }

        .completed {
            text-decoration: line-through;
            color: #999;
        }
    </style>
</head>

<body>
    <div id="app" class="app">
        <!-- Header -->
        <header>
            <h1>Vue Template</h1>
            <nav>
                <ul>
                    <li><a href="#" onclick="selectedTab = 'post'; fetchUserPosts()">Post</a></li>
                    <li><a href="#" onclick="selectedTab = 'todos'">Todos</a></li>
                </ul>
            </nav>
        </header>

        <div class="container">
            <!-- Konten untuk Post -->
            <div v-if="selectedTab === 'post'" class="post-container">
                <h1 class="post-title">Postingan Pengguna</h1>
                <!-- Select option untuk memilih pengguna -->
                <select v-model="selectedUser" onchange="fetchUserPosts()">
                    <option v-for="user in users" :key="user.id" :value="user.id">{{ user.name }}</option>
                </select>

                <!-- Tampilkan postingan pengguna yang dipilih -->
                <div v-for="post in userPosts" :key="post.id">
                    <h2>{{ post.title }}</h2>
                    <p>{{ post.body }}</p>
                </div>
            </div>

            <!-- Konten untuk Todos -->
            <div v-if="selectedTab === 'todos'" class="todos-container">
                <h1 class="todos-title">To-Dos List</h1>
                <div class="add-activity">
                    <input type="text" v-model="newActivity" placeholder="Tambah kegiatan" @keyup.enter="tambahKegiatan">
                    <button @click="tambahKegiatan">Tambah</button>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Kegiatan</th>
                                <th>Status</th>
                                <th>Opsional</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(kegiatan, index) in kegiatanList" :key="index">
                                <td :class="{ 'completed': kegiatan.status === 'Selesai' }">
                                    <span v-if="editedIndex !== index">{{ kegiatan.nama }}</span>
                                    <input v-else v-model="editedActivity" @keyup.enter="saveKegiatan" @keyup.esc="cancelEdit" autofocus>
                                </td>
                                <td>
                                    <select v-if="editedIndex !== index" v-model="kegiatan.status" @change="saveKegiatan">
                                        <option value="Belum Selesai">Belum Selesai</option>
                                        <option value="Selesai">Selesai</option>
                                    </select>
                                    <span v-else>{{ kegiatan.status }}</span>
                                </td>
                                <td>
                                    <button @click="editKegiatan(index)" v-if="editedIndex !== index">Edit</button>
                                    <button @click="saveKegiatan" v-else>Simpan</button>
                                    <button @click="cancelEdit" v-if="editedIndex === index">Batal</button>
                                    <button @click="hapus(index)">Hapus</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- JavaScript -->
    <script>
        // JavaScript
        let selectedTab = 'post';
        let kegiatanList = [];
        let editedIndex = null;
        let editedActivity = '';
        let newActivity = '';
        let filterActive = false;
        let users = [];
        let userPosts = [];
        let selectedUser = null;

        function toggleFilter() {
            filterActive = !filterActive;
        }

        function editKegiatan(index) {
            editedIndex = index;
            editedActivity = kegiatanList[index].nama;
        }

        function saveKegiatan() {
            if (editedIndex !== null && editedActivity.trim() !== '') {
                kegiatanList[editedIndex].nama = editedActivity.trim();
                editedIndex = null;
                editedActivity = '';
            }
        }

        function cancelEdit() {
            editedIndex = null;
            editedActivity = '';
        }

        function hapus(index) {
            kegiatanList.splice(index, 1);
        }

        function tambahKegiatan() {
            if (newActivity.trim() !== '') {
                kegiatanList.push({ nama: newActivity.trim(), status: 'Belum Selesai' });
                newActivity = '';
            }
        }

        function toggleStatus(index) {
            kegiatanList[index].status = kegiatanList[index].status === 'Selesai' ? 'Belum Selesai' : 'Selesai';
        }

        async function fetchUsers() {
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                const data = await response.json();
                users = data;
            } catch (error) {
                console.error('Gagal mengambil data pengguna:', error);
            }
        }

        async function fetchUserPosts() {
            if (!selectedUser) return;
            try {
                const response = await fetch(`https://jsonplaceholder.typicode.com/posts?userId=${selectedUser}`);
                const data = await response.json();
                userPosts = data;
            } catch (error) {
                console.error('Gagal mengambil postingan pengguna:', error);
            }
        }

        fetchUsers();
    </script>
</body>

</html>
